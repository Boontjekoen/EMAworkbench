

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Vensim &mdash; Exploratory Modeling Workbench</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Exploratory Modeling Workbench" href="../../index.html" />
    <link rel="next" title="Excel" href="excel.html" />
    <link rel="prev" title="util" href="util.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../contents.html"><img src="../../_static/logo.png" border="0" alt="ema workbench"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="excel.html" title="Excel"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="util.html" title="util"
             accesskey="P">previous</a> |</li>
       <li><a href="../../contents.html">home</a>|&nbsp;</li>
       <li><a href="../../tutorial.html">tutorial </a> |&nbsp;</li>
       <li><a href="../../gallery.html">gallery </a> |&nbsp;</li>
       <li><a href="../../download.html">download </a> &raquo;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>
       
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">  <h4>Other Sub Sites</h4>
  <ul>
  <li>
    <ul>
        
      <li><a href="../../RESEARCH/Intro.html">PA Simulation Lab</a><a class="reference internal" href="#description"></a></li>
      <li><a href="../../ema-workbench/contents.html">EMA Workbench</a></li>
      <li><a href="../../BeneluxChapter/Intro.html">Benelux Chapter</a></li>
      <li><a href="../../HPSIG/Intro.html">Health Policy SIG</a><a class="reference internal" href="#visualization"></a></li>
    </ul>
  </li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-vensim">
<span id="vensim"></span><h1><tt class="xref py py-mod docutils literal"><span class="pre">Vensim</span></tt><a class="headerlink" href="#module-vensim" title="Permalink to this headline">¶</a></h1>
<p>Created on 25 mei 2011</p>
<p><em>Code author: jhkwakkel &lt;j.h.kwakkel (at) tudelft (dot) nl&gt;</em></p>
<p>convenience functions and classes to be used in combination with Vensim.
This module contains frequently used functions with error checking. For
more fine grained control, the <tt class="xref py py-mod docutils literal"><span class="pre">vensimDLLwrapper</span></tt> can also be used 
directly.</p>
<dl class="function">
<dt id="vensim.be_quiet">
<tt class="descclassname">vensim.</tt><tt class="descname">be_quiet</tt><big>(</big><big>)</big><a class="headerlink" href="#vensim.be_quiet" title="Permalink to this definition">¶</a></dt>
<dd><p>this allows you to turn off the work in progress dialog that Vensim 
displays during simulation and other activities, and also prevent the 
appearance of yes or no dialogs.</p>
<p>defaults to 2, suppressing all windows, for more fine grained control, use
<tt class="xref py py-mod docutils literal"><span class="pre">vensimDLLwrapper</span></tt> directly .</p>
</dd></dl>

<dl class="function">
<dt id="vensim.load_model">
<tt class="descclassname">vensim.</tt><tt class="descname">load_model</tt><big>(</big><em>file</em><big>)</big><a class="headerlink" href="#vensim.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>load the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> &#8211; the location of the .vpm file to be loaded.</td>
</tr>
<tr class="field-even field"><th class="field-name">Exception :</th><td class="field-body">raises a <tt class="xref py py-class docutils literal"><span class="pre">VensimError</span></tt> if the model 
cannot be loaded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vensim.read_cin_file">
<tt class="descclassname">vensim.</tt><tt class="descname">read_cin_file</tt><big>(</big><em>file</em><big>)</big><a class="headerlink" href="#vensim.read_cin_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read a .cin file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> &#8211; location of the .cin file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Exception :</th><td class="field-body">raises a <tt class="xref py py-class docutils literal"><span class="pre">VensimWarning</span></tt> if the cin file
cannot be read.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vensim.set_value">
<tt class="descclassname">vensim.</tt><tt class="descname">set_value</tt><big>(</big><em>variable</em>, <em>value</em><big>)</big><a class="headerlink" href="#vensim.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>set the value of a variable to value</p>
<p>current implementation only works for lookups and normal values. In case
of a list, a lookup is assumed, else a normal value is assumed. 
See the DSS reference supplement, p. 58 for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable</strong> &#8211; name of the variable to set.</li>
<li><strong>value</strong> &#8211; the value for the variable. 
<strong>note</strong>: the value can be either a list, or an float/integer. 
If it is a list, it is assumed the variable is a lookup.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vensim.run_simulation">
<tt class="descclassname">vensim.</tt><tt class="descname">run_simulation</tt><big>(</big><em>file</em><big>)</big><a class="headerlink" href="#vensim.run_simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenient function to run a model and store the results of the run in 
the specified .vdf file. The specified output file will be overwritten 
by default</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> &#8211; the location of the outputfile</td>
</tr>
<tr class="field-even field"><th class="field-name">Exception :</th><td class="field-body">raises a <tt class="xref py py-class docutils literal"><span class="pre">VensimError</span></tt> if running 
the model failed in some way.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vensim.get_data">
<tt class="descclassname">vensim.</tt><tt class="descname">get_data</tt><big>(</big><em>filename</em>, <em>varname</em>, <em>step=1</em><big>)</big><a class="headerlink" href="#vensim.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves data from simulation runs or imported data sets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; the name of the .vdf file that contains the data</li>
<li><strong>varname</strong> &#8211; the name of the variable to retrieve data on</li>
<li><strong>step</strong> &#8211; steps used in slicing. Defaults to 1, meaning the full
recored time series is returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">an array with the values for varname over the simulation</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="vensim.VensimModelStructureInterface">
<em class="property">class </em><tt class="descclassname">vensim.</tt><tt class="descname">VensimModelStructureInterface</tt><big>(</big><em>workingDirectory</em>, <em>name</em><big>)</big><a class="headerlink" href="#vensim.VensimModelStructureInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience extension of <a class="reference internal" href="model.html#model.ModelStructureInterface" title="model.ModelStructureInterface"><tt class="xref py py-class docutils literal"><span class="pre">ModelStructureInterface</span></tt></a> 
that can be used as a base class for performing EMA on Vensim models. This 
class will handle starting Vensim, loading a model, setting parameters
on the model, running the model, and retrieving the results. To this end
it implements:</p>
<ul class="simple">
<li><cite>__init__</cite></li>
<li><cite>model_init</cite></li>
<li><cite>run_model</cite></li>
</ul>
<p>For the simplest case, it is sufficient to only specify <span class="target" id="init">_init__</span> in more
detail. That is, specify the uncertainties and the outcomes. For
more elaborate cases, for example when using different policies, it might
be necessary to overwrite or extent <cite>model_init</cite>, while for dealing with
lookups etc. it might be necessary to also extent <cite>run_model</cite>. The 
examples folder contains examples of each of these extensions.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This class relies on the Vensim DLL, thus a complete installation 
of Vensim DSS is needed.</p>
</div>
<dl class="attribute">
<dt id="vensim.VensimModelStructureInterface.cinFile">
<tt class="descname">cinFile</tt><em class="property"> = None</em><a class="headerlink" href="#vensim.VensimModelStructureInterface.cinFile" title="Permalink to this definition">¶</a></dt>
<dd><p>attribute that can be set when one wants to load a cin file</p>
</dd></dl>

<dl class="attribute">
<dt id="vensim.VensimModelStructureInterface.modelFile">
<tt class="descname">modelFile</tt><em class="property"> = None</em><a class="headerlink" href="#vensim.VensimModelStructureInterface.modelFile" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the vensim model to be loaded.</p>
<p><strong>note:</strong> The model file should be a <cite>.vpm</cite> file</p>
</dd></dl>

<dl class="method">
<dt id="vensim.VensimModelStructureInterface.model_init">
<tt class="descname">model_init</tt><big>(</big><em>policy</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#vensim.VensimModelStructureInterface.model_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Init of the model, The provided implementation here assumes
that <cite>self.modelFile</cite>  is set correctly. In case of using different
vensim models for different policies, it is recomended to extent
this method, extract the model file from the policy dict, set 
<cite>self.modelFile</cite> to this file and then call this implementation through
calling <cite>super</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>policy</strong> &#8211; a dict specifying the policy. In this 
implementation, this argument is ignored.</li>
<li><strong>kwargs</strong> &#8211; additional keyword arguments. In this implementation 
this argument is ignored.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vensim.VensimModelStructureInterface.reset_model">
<tt class="descname">reset_model</tt><big>(</big><big>)</big><a class="headerlink" href="#vensim.VensimModelStructureInterface.reset_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for reseting the model to its initial state before runModel 
was called</p>
</dd></dl>

<dl class="attribute">
<dt id="vensim.VensimModelStructureInterface.resultFile">
<tt class="descname">resultFile</tt><em class="property"> = '\\Current.vdf'</em><a class="headerlink" href="#vensim.VensimModelStructureInterface.resultFile" title="Permalink to this definition">¶</a></dt>
<dd><p>default name of the results file (default: &#8216;Current.vdf&#8217;)</p>
</dd></dl>

<dl class="method">
<dt id="vensim.VensimModelStructureInterface.run_model">
<tt class="descname">run_model</tt><big>(</big><em>case</em><big>)</big><a class="headerlink" href="#vensim.VensimModelStructureInterface.run_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for running an instantiated model structure. 
the provided implementation assumes that the keys in the 
case match the variable names in the Vensim model.</p>
<p>If lookups are to be set specify their transformation from 
uncertainties to lookup values in the extension of this method, 
then call this one using super with the updated case dict.</p>
<p>if you want to use cinFiles, set the cinFile, or cinFiles in
the extension of this method to <cite>self.cinFile</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>case</strong> &#8211; the case to run</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">setting parameters should always be done via run_model.
The model is reset to its initial values automatically after
each run.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="vensim.VensimModelStructureInterface.step">
<tt class="descname">step</tt><em class="property"> = 1</em><a class="headerlink" href="#vensim.VensimModelStructureInterface.step" title="Permalink to this definition">¶</a></dt>
<dd><p>attribute used for getting a slice of the results array instead of the
full array. This can cut down the amount of data saved. Alternatively,
one can specify in Vensim the time steps for saving results</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="excel.html" title="Excel"
             >next</a> |</li>
        <li class="right" >
          <a href="util.html" title="util"
             >previous</a> |</li>
       <li><a href="../../contents.html">home</a>|&nbsp;</li>
       <li><a href="../../tutorial.html">tutorial </a> |&nbsp;</li>
       <li><a href="../../gallery.html">gallery </a> |&nbsp;</li>
       <li><a href="../../download.html">download </a> &raquo;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>
       
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2012, J.H. Kwakkel.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>