

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>clusterer &mdash; Exploratory Modeling Workbench</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Exploratory Modeling Workbench" href="../index.html" />
    <link rel="next" title="scenario_discovery" href="scenario_discovery.html" />
    <link rel="prev" title="orangeFunctions" href="orangeFunctions.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../contents.html"><img src="../_static/logo.png" border="0" alt="ema workbench"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="scenario_discovery.html" title="scenario_discovery"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="orangeFunctions.html" title="orangeFunctions"
             accesskey="P">previous</a> |</li>
       <li><a href="../contents.html">home</a>|&nbsp;</li>
       <li><a href="../tutorial.html">tutorial </a> |&nbsp;</li>
       <li><a href="../gallery.html">gallery </a> |&nbsp;</li>
       <li><a href="../download.html">download </a> &raquo;</li>
       <li><a href="../index.html">documentation </a> &raquo;</li>
       
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">clusterer</span></tt></a><ul>
<li><a class="reference internal" href="#distance-gonenc"><tt class="docutils literal"><span class="pre">distance_gonenc()</span></tt></a></li>
<li><a class="reference internal" href="#distance-mse"><tt class="docutils literal"><span class="pre">distance_mse()</span></tt></a></li>
<li><a class="reference internal" href="#distance-sse"><tt class="docutils literal"><span class="pre">distance_sse()</span></tt></a></li>
<li><a class="reference internal" href="#distance-triangle"><tt class="docutils literal"><span class="pre">distance_triangle()</span></tt></a></li>
</ul>
</li>
</ul>
  <h4>Other Sub Sites</h4>
  <ul>
  <li>
    <ul>
        
      <li><a href="../RESEARCH/Intro.html">PA SIMULATION LAB</a><a class="reference internal" href="#description"></a></li>
      <li><a href="../ema-workbench/contents.html">EMA Workbench</a></li>
      <li><a href="../BeneluxChapter/Intro.html">BENELUX CHAPTER</a></li>
      <li><a href="../HPSIG/Intro.html">Health Policy SIG</a><a class="reference internal" href="#visualization"></a></li>
    </ul>
  </li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-clusterer">
<span id="clusterer"></span><h1><a class="reference internal" href="#module-clusterer" title="clusterer"><tt class="xref py py-mod docutils literal"><span class="pre">clusterer</span></tt></a><a class="headerlink" href="#module-clusterer" title="Permalink to this headline">¶</a></h1>
<p>Created on Sep 8, 2011</p>
<p><em>Code author: gyucel &lt;g.yucel (at) tudelft (dot) nl&gt;,
jhkwakkel &lt;j.h.kwakkel (at) tudelft (dot) nl&gt;</em></p>
<p>a reworking of the cluster. The distance metrics have now their own .py file. 
The metrics available are currently stored in the distance_functions 
dictionary.</p>
<dl class="function">
<dt id="clusterer.cluster">
<tt class="descclassname">clusterer.</tt><tt class="descname">cluster</tt><big>(</big><em>data</em>, <em>outcome</em>, <em>distance='gonenc'</em>, <em>interClusterDistance='complete'</em>, <em>cMethod='inconsistent'</em>, <em>cValue=2.5</em>, <em>plotDendrogram=True</em>, <em>plotClusters=True</em>, <em>groupPlot=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#clusterer.cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Method that clusters time-series data from the specified cpickle file 
according to a selected distance measure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; return from meth:<cite>perform_experiments</cite>.</li>
<li><strong>outcome</strong> &#8211; Name of outcome/variable whose behavior is being analyzed</li>
<li><strong>distance</strong> &#8211; The distance metric to be used.</li>
<li><strong>interClusterDistance</strong> &#8211; How to calculate inter cluster distance.
see <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html#scipy.cluster.hierarchy.linkage">linkage</a> 
for details.</li>
<li><strong>cMethod</strong> &#8211; Cutoff method, 
see <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.fcluster.html#scipy.cluster.hierarchy.fcluster">fcluster</a> 
for details.</li>
<li><strong>cValue</strong> &#8211; <p>Cutoff value, see 
<a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.fcluster.html#scipy.cluster.hierarchy.fcluster">fcluster</a> 
for details.</p>
</li>
<li><strong>plotDendogram</strong> &#8211; Boolean, if true, plot dendogram.</li>
<li><strong>plotCluster</strong> &#8211; Boolean, true if you want to plot clusters.</li>
<li><strong>groupPlot</strong> &#8211; Boolean, if true plot clusters in a single window, 
else the clusters are plotted in separate windows.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A tuple containing the list of distances, the cluster allocation, 
and a list of logged distance metrics for each time series.</p>
</td>
</tr>
</tbody>
</table>
<p>The remainder of the arguments are passed on to the specified distance 
function. See the distance functions for details on these parameters.</p>
</dd></dl>

<dl class="function">
<dt id="clusterer.construct_distances">
<tt class="descclassname">clusterer.</tt><tt class="descname">construct_distances</tt><big>(</big><em>data</em>, <em>distance='gonenc'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#clusterer.construct_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a n-by-n matrix of distances for n data-series in data 
according to the specified distance.</p>
<p>Distance argument specifies the distance measure to be used. Options, 
which are defined in clusteringDistances.py, are as follows.</p>
<ul>
<li><p class="first">gonenc: a distance based on qualitative dynamic pattern features</p>
</li>
<li><dl class="first docutils">
<dt>willem: a disance mainly based on the presence of crisis-periods and </dt>
<dd><p class="first last">the overall trend of the data series</p>
</dd>
</dl>
</li>
<li><p class="first">sse: regular sum of squared errors</p>
</li>
<li><p class="first">mse: regular mean squared error</p>
</li>
</ul>
<p>SSE and MSE are in clusterinDistances.py and don&#8217;t work right now.</p>
<p>others will be added over time</p>
</dd></dl>

<div class="section" id="distance-gonenc">
<h2><tt class="xref py py-func docutils literal"><span class="pre">distance_gonenc()</span></tt><a class="headerlink" href="#distance-gonenc" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="clusterCode.distance_gonenc.distance_gonenc">
<tt class="descclassname">clusterCode.distance_gonenc.</tt><tt class="descname">distance_gonenc</tt><big>(</big><em>data</em>, <em>sisterCount=50</em>, <em>wSlopeError=1</em>, <em>wCurvatureError=1</em>, <em>filterSlope=True</em>, <em>tHoldSlope=0.1</em>, <em>filterCurvature=True</em>, <em>tHoldCurvature=0.1</em>, <em>addMidExtension=True</em>, <em>addEndExtension=True</em><big>)</big><a class="headerlink" href="#clusterCode.distance_gonenc.distance_gonenc" title="Permalink to this definition">¶</a></dt>
<dd><p>The distance measures the proximity of data series in terms of their 
qualitative pattern features. In order words, it quantifies the proximity 
between two different dynamic behaviour modes.</p>
<p>It is designed to work mainly on non-stationary data. It&#8217;s current version 
does not perform well in catching the proximity of two cyclic/repetitive 
patterns with different number of cycles (e.g. oscillation with 4 cycle 
versus oscillation with 6 cycles).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sisterCount</strong> &#8211; Number of long-versions that will be created for the 
short vector while comparing two data series with 
unequal feature vector lengths.</li>
<li><strong>wSlopeError</strong> &#8211; Weight of the error between the 1st dimensions of the 
two feature vectors (i.e. Slope). (default=1)</li>
<li><strong>wCurvatureError</strong> &#8211; Weight of the error between the 2nd dimensions of 
the two feature vectors (i.e. Curvature). 
(default=1)</li>
<li><strong>wFilterSlope</strong> &#8211; Boolean, indicating whether the slope vectors should 
be filtered for minor fluctuations, or not. 
(default=True)</li>
<li><strong>tHoldSlope</strong> &#8211; The threshold value to be used in filtering out 
fluctuations in the slope. (default=0.1)</li>
<li><strong>filterCurvature</strong> &#8211; Boolean, indicating whether the curvature vectors 
should be filtered for minor fluctuations, or not.
(default=True)</li>
<li><strong>tHoldCurvature</strong> &#8211; The threshold value to be used in filtering out 
fluctuations in the curvature. (default=0.1)</li>
<li><strong>addMidExtension</strong> &#8211; Boolean, indicating whether the feature vectors 
should be extended by introducing transition 
sections along the vector.
(default=True)</li>
<li><strong>addEndExtension</strong> &#8211; Boolean, indicating whether the feature vectors 
should be extended by introducing startup/closing 
sections at the beginning/end of the vector.
(default=True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="distance-mse">
<h2><tt class="xref py py-func docutils literal"><span class="pre">distance_mse()</span></tt><a class="headerlink" href="#distance-mse" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="distance_mse.distance_mse">
<tt class="descclassname">distance_mse.</tt><tt class="descname">distance_mse</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#distance_mse.distance_mse" title="Permalink to this definition">¶</a></dt>
<dd><p>The MSE (mean squared-error) distance is equal to the SSE distance divided by the number of data points in data series.</p>
<p>The SSE distance between two data series is equal to the sum of squared-errors between corresponding data points of these two data series.
Let the data series be of length N; Then SSE distance between ds1 and ds2 equals to the sum of the square of error terms from 1 to N, 
where error_term(i) equals to ds1(i)-ds2(i)</p>
<p>Given that SSE is calculated as given above, MSE equals SSE divided by N.</p>
<p>As SSE distance, the MSE distance only works with data series of equal length.</p>
</dd></dl>

</div>
<div class="section" id="distance-sse">
<h2><tt class="xref py py-func docutils literal"><span class="pre">distance_sse()</span></tt><a class="headerlink" href="#distance-sse" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="distance_sse.distance_sse">
<tt class="descclassname">distance_sse.</tt><tt class="descname">distance_sse</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#distance_sse.distance_sse" title="Permalink to this definition">¶</a></dt>
<dd><p>The SSE (sum of squared-errors) distance between two data series is equal to the sum of squared-errors between corresponding data points of these two data series.
Let the data series be of length N; Then SSE distance between ds1 and ds2 equals to the sum of the square of error terms from 1 to N, 
where error_term(i) equals to ds1(i)-ds2(i)</p>
<p>Since SSE calculation is based on pairwise comparison of individual data points, the data series should be of equal length.</p>
<p>SSE distance equals to the square of Euclidian distance, which is a commonly used distance metric in time series comparisons.</p>
</dd></dl>

</div>
<div class="section" id="distance-triangle">
<h2><tt class="xref py py-func docutils literal"><span class="pre">distance_triangle()</span></tt><a class="headerlink" href="#distance-triangle" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="distance_triangle.distance_triangle">
<tt class="descclassname">distance_triangle.</tt><tt class="descname">distance_triangle</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#distance_triangle.distance_triangle" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The triangle distance is calculated as follows;</dt>
<dd><blockquote class="first">
<div><p>Let ds1(.) and ds2(.) be two data series of length N. Then;
A equals to the summation of ds1(i).ds2(i) from i=1 to N
B equals to the square-root of the (summation ds1(i)^2 from i=1 to N)
C equals to the square-root of the (summation ds1(i)^2 from i=1 to N)</p>
<p>distance_triangle = A/(B.C)</p>
</div></blockquote>
<p>The triangle distance works only with data series of the same length</p>
<p class="last">In the literature, it is claimed that the triangle distance can deal with noise and amplitude scaling very well, and may yield poor
results in cases of offset translation and linear drift.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="scenario_discovery.html" title="scenario_discovery"
             >next</a> |</li>
        <li class="right" >
          <a href="orangeFunctions.html" title="orangeFunctions"
             >previous</a> |</li>
       <li><a href="../contents.html">home</a>|&nbsp;</li>
       <li><a href="../tutorial.html">tutorial </a> |&nbsp;</li>
       <li><a href="../gallery.html">gallery </a> |&nbsp;</li>
       <li><a href="../download.html">download </a> &raquo;</li>
       <li><a href="../index.html">documentation </a> &raquo;</li>
       
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, J.H. Kwakkel.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.8.
    </div>
  </body>
</html>